import React, { useContext, useEffect } from "react";
import { Box } from "@chakra-ui/react";
import Head from "next/head";
import { navActions, NavContext, navStates } from "providers/NavProvider";
import {
  News,
  OverviewHeader,
  OverviewMarketTrends,
  UpgradePlan,
  YourPlans,
} from "components/overview";
import PlanProvider from "providers/PlanProvider";

export default function Home() {
  const { dispatch: setActiveNav } = useContext(NavContext);

  useEffect(() => {
    setActiveNav({ type: navActions.SET_ACTIVE, payload: navStates.overview });
  }, []);

  return (
    <div className="">
      <Head>
        <title>Ubassets | App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/public/img/fotedges_icon.png" />
      </Head>

      <Box minH="100vh" bg="">
        <PlanProvider>
          <OverviewHeader />
        </PlanProvider>
        <YourPlans title={"Your Plans"} />
        <UpgradePlan />
        <News />

        <OverviewMarketTrends />
      </Box>
    </div>
  );
}

Home.requireAuth = true;
